@using jaymvc.Models.Home
@model Todos

<table class="table table-striped">
    <thead>
    <tr>
        <th></th>
        <th></th>
        <th class="d-none d-sm-table-cell">Due</th>
        <th class="d-none d-sm-table-cell">Assignee</th>
        <th>Text</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    @foreach (var p in Model)
    {
        <tr>
            <td>
                <button class="btn btn-sm btn-link action-edit text-secondary" data-url="@Url.PartialEditTodo(p.Id)" data-save-url="@Url.JsonSaveTodo(p.Id)" data-title="Edit Todo" data-target="#todos">
                    <i class="fa fa-edit"></i>
                </button>
            </td>
            <td><span class="btn btn-sm btn-link"><i class="text-@p.PriorityClass fa fa-flag"></i></span></td>
            <td class="d-none d-sm-table-cell">@p.DueDate.ShortDate()</td>
            <td class="d-none d-sm-table-cell">@p.AssignedToName</td>
            <td class="w-75">
                <span class="d-sm-none">
                    @p.DueDate.ShortDate()<br/>                   
                </span>
                <span class="d-sm-none">
                    @p.AssignedToName<br/>
                </span>
                @p.Text
            </td>
            <td class="text-right">
                <button class="btn btn-sm btn-link text-danger action-delete" data-message="Are you sure you want to complete this todo?" data-title="Complete todo" data-positive-button="Yes, Complete" data-target="#todos" data-url="@Url.JsonCompleteTodo(p.Id)" title="Complete"><i class="fa fa-check-circle-o"></i> <span class="d-none d-md-inline">Complete</span></button>
            </td>
        </tr>
    }
    </tbody>
</table>